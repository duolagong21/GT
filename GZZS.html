<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å…¬ä¸»æ®¿ä¸‹ä¸“å±é­”æ³•ä¹¦ âœ¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            touch-action: manipulation;
        }

        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background: linear-gradient(135deg, #2b1055 0%, #7597de 100%);
            font-family: 'åæ–‡è¡Œæ¥·', cursive;
            position: relative;
        }

        /* é€šç”¨ç‰¹æ•ˆå®¹å™¨ */
        .magic-effect {
            position: absolute;
            pointer-events: none;
            user-select: none;
        }

        /* ç‚¹å‡»æ–‡å­—ç‰¹æ•ˆ */
        .princess-text {
            font-size: 1.8em;
            color: #ffd700;
            text-shadow: 0 0 15px #ff69b4;
            animation: textFloat 3s ease-out forwards;
            white-space: nowrap;
        }

        /* é•¿æŒ‰çƒŸèŠ±ç‰¹æ•ˆ */
        .firework {
            width: 8px;
            height: 8px;
            background: #ff4500;
            border-radius: 50%;
            animation: fireworkBurst 1.2s ease-out forwards;
        }

        /* æ˜Ÿæ²³ç‰¹æ•ˆ */
        .galaxy-star {
            width: 4px;
            height: 4px;
            background: #fff;
            border-radius: 50%;
            animation: galaxyTwinkle 3s infinite;
        }

        @keyframes textFloat {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-80px) scale(1.5); }
        }

        @keyframes fireworkBurst {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(3); }
            100% { opacity: 0; transform: scale(0.5) translate(var(--tx), var(--ty)); }
        }

        @keyframes galaxyTwinkle {
            0%, 100% { opacity: 0.8; transform: scale(1); }
            50% { opacity: 0.2; transform: scale(0.6); }
        }

        #status {
            position: fixed;
            bottom: 20px;
            width: 100%;
            text-align: center;
            color: #fff;
            font-size: 1.2em;
            text-shadow: 0 0 10px #ff69b4;
        }
    </style>
</head>
<body>
    <div id="status">ğŸ‘‘ è½»è§¦å±å¹•å¼€å¯å…¬ä¸»é­”æ³• ğŸ‘‘</div>

    <script>
        // ç‰¹æ•ˆæ•°æ®åº“
        const clickMessages = [
            "â™¥ å…¬ä¸»æ®¿ä¸‹ä»Šæ—¥ç¾è²Œè¶…æ ‡å•¦ï¼ğŸ‡",
            "âœ¨ å…¬ä¸»çš„å¾®ç¬‘æ˜¯ä¸–ç•Œçš„å®è— ğŸ’",
            "ğŸ€ å…¬ä¸»ä»Šå¤©æƒ³åƒè‰è“è›‹ç³•å— ğŸ°",
            "ğŸ’® å…¬ä¸»çš„å¯çˆ±èƒ½é‡å……æ»¡å•¦ âš¡",
            "ğŸŒ¸ å…¬ä¸»æ˜¯é“¶æ²³ç³»æœ€ç”œçš„å­˜åœ¨ ğŸª",
            "ğŸ‡ å…¬ä¸»çš„çœ¼ç›ä¼šå‘å…‰è€¶ âœ¨",
            "ğŸ’ å…¬ä¸»çš„ä¼˜é›…å€¼çªç ´å¤©é™… ğŸš€"
        ];

        // ç³»ç»Ÿå‚æ•°
        let longPressTimer;
        const SHAKE_THRESHOLD = 15; // æ‘‡æ™ƒçµæ•åº¦
        
        // åˆ›å»ºåŸºç¡€ç‰¹æ•ˆå…ƒç´ 
        const createEffect = (type, x, y, content) => {
            const element = document.createElement('div');
            element.className = `magic-effect ${type}`;
            element.style.left = x + 'px';
            element.style.top = y + 'px';
            
            if(content) element.innerHTML = content;
            
            document.body.appendChild(element);
            setTimeout(() => element.remove(), 3000);
            return element;
        };

        // ========== åŠŸèƒ½ä¸€ï¼šç‚¹å‡»ç‰¹æ•ˆ ==========
        const createClickMagic = (x, y) => {
            // æ–‡å­—ç‰¹æ•ˆ
            const text = createEffect('princess-text', x, y, 
                clickMessages[Math.floor(Math.random()*clickMessages.length)]
            );
            
            // çˆ±å¿ƒç‰¹æ•ˆ
            for(let i=0; i<3; i++){
                createEffect('princess-text', x+rand(-30,30), y+rand(-30,30), 'ğŸ’–');
            }
            
            // çƒŸèŠ±ç²’å­
            for(let i=0; i<5; i++){
                const fire = createEffect('firework', x, y);
                fire.style.setProperty('--tx', rand(-100,100)+'px');
                fire.style.setProperty('--ty', rand(-150,50)+'px');
                fire.style.background = `hsl(${rand(0,360)}, 70%, 60%)`;
            }
        };

        // ========== åŠŸèƒ½äºŒï¼šé•¿æŒ‰ç‰¹æ•ˆ ==========
        const createLongPressMagic = (x, y) => {
            // å…¨å±çƒŸèŠ±
            for(let i=0; i<50; i++){
                const fire = createEffect('firework', rand(0,window.innerWidth), rand(0,window.innerHeight));
                fire.style.animationDuration = rand(1,2)+'s';
                fire.style.setProperty('--tx', rand(-200,200)+'px');
                fire.style.setProperty('--ty', rand(-300,100)+'px');
            }
            
            // ä¸­å¤®å¤§å­—
            const text = createEffect('princess-text', x-100, y-50, 'ğŸ‰ å…¬ä¸»æ®¿ä¸‹å®‡å®™æœ€æ£’ï¼ ğŸ‰');
            text.style.fontSize = '2.5em';
        };

        // ========== åŠŸèƒ½ä¸‰ï¼šæ‘‡æ™ƒç‰¹æ•ˆ ==========
        const createGalaxyMagic = () => {
            // ç”Ÿæˆæ˜Ÿæ²³
            for(let i=0; i<200; i++){
                const star = createEffect('galaxy-star', 
                    rand(0, window.innerWidth),
                    rand(0, window.innerHeight)
                );
                star.style.animationDelay = rand(0,3)+'s';
            }
            
            // å®‰åº·æ–‡å­—
            const text = createEffect('princess-text', 
                window.innerWidth/2-120, 
                window.innerHeight/2,
                'ğŸŒŒ æ„¿å…¬ä¸»æ®¿ä¸‹æ°¸ä¸–å®‰åº· ğŸŒŒ'
            );
            text.style.fontSize = '2em';
        };

        // ========== äº‹ä»¶æ§åˆ¶ç³»ç»Ÿ ==========
        let lastX = 0, lastY = 0;
        
        // è§¦æ‘¸å¼€å§‹
        const touchStart = (e) => {
            const pos = getPosition(e);
            lastX = pos.x;
            lastY = pos.y;
            longPressTimer = setTimeout(() => {
                createLongPressMagic(pos.x, pos.y);
            }, 2000);
        };

        // è§¦æ‘¸ç»“æŸ
        const touchEnd = (e) => {
            clearTimeout(longPressTimer);
            const pos = getPosition(e);
            if(Math.abs(pos.x - lastX) < 10 && Math.abs(pos.y - lastY) < 10){
                createClickMagic(pos.x, pos.y);
            }
        };

        // è·å–åæ ‡
        const getPosition = (e) => ({
            x: e.clientX || e.touches[0].clientX,
            y: e.clientY || e.touches[0].clientY
        });

        // æ‘‡æ™ƒæ£€æµ‹
        let lastShake = 0;
        window.addEventListener('devicemotion', (e) => {
            if(!e.accelerationIncludingGravity) return;
            
            const {x, y, z} = e.accelerationIncludingGravity;
            const acceleration = Math.abs(x) + Math.abs(y) + Math.abs(z);
            
            if(acceleration > SHAKE_THRESHOLD && Date.now() - lastShake > 2000){
                createGalaxyMagic();
                lastShake = Date.now();
            }
        });

        // åˆå§‹åŒ–
        window.onload = () => {
            ['mousedown', 'touchstart'].forEach(evt => 
                document.addEventListener(evt, touchStart));
            ['mouseup', 'touchend'].forEach(evt => 
                document.addEventListener(evt, touchEnd));
        };

        // å®ç”¨å·¥å…·å‡½æ•°
        const rand = (min, max) => Math.floor(Math.random()*(max-min+1))+min;
    </script>
</body>
</html>